/*
								  "??? ??? ?????"
			  * ??????? ??????????? ??? ?????? ????? ?????? ??? ???????????? ? ??????? ????? ?????????? ?????????? *
*/
#include<vector>
#include <iostream>
#include<cmath>
#include<algorithm>
#include<bitset>
#define ll long long
#define ld long double
using namespace std;
ll mod = 1e9 + 7;
ll fast_power(ll base, ll p) {
	ll res = 1;
	while (p > 0) {
		if (p % 2 == 0) {
			p /= 2;
			base *= base;   
			base %= mod;
		}
		else {
			p--;
			res *= base % mod;
			res %= mod;
		}
	}
	return res;
}

int main() {

	int tc = 1;
	cin >> tc;

	while (tc--) {
		ll n,k;
		cin >> n>>k;
		bool f = 0;
		if (n == 2) {
			cout << k;
		}
		else {
			bitset<32>b = k;
			ll sum = 0;

			for (int i = 0; i < 32; i++) {
				sum += (fast_power(n, i) * b[i]) % mod;
				sum %= mod;
			}
			cout << sum;
		}
				cout << '\n';
	}


}